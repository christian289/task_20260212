# 프로젝트 폴더링 계획

## 요청 사항

CompanyC.Api 프로젝트에 1-depth로 나열된 프로그램 코드파일을 CQRS, Repository 등의 패턴에 알맞게 폴더를 나눠서 분할. 분할된 폴더에 위치됨에 따라 namespace를 적절하게 수정.

## 현재 구조 (1-depth, 모든 파일이 src/CompanyC.Api/ 루트에 위치)

```
src/CompanyC.Api/
  GlobalUsings.cs
  Program.cs
  Employee.cs
  IEmployeeParser.cs
  CsvEmployeeParser.cs
  JsonEmployeeParser.cs
  IEmployeeRepository.cs
  SqliteEmployeeRepository.cs
  EmployeeQueries.xml
  QueryLoader.cs
  GetEmployeesQuery.cs
  GetEmployeeByNameQuery.cs
  AddEmployeesCommand.cs
```

## 목표 구조

```
src/CompanyC.Api/
  GlobalUsings.cs                           (루트 유지)
  Program.cs                                (루트 유지)
  Models/
    Employee.cs                             (namespace: CompanyC.Api.Models)
  Parsers/
    IEmployeeParser.cs                      (namespace: CompanyC.Api.Parsers)
    CsvEmployeeParser.cs                    (namespace: CompanyC.Api.Parsers)
    JsonEmployeeParser.cs                   (namespace: CompanyC.Api.Parsers)
  Repositories/
    IEmployeeRepository.cs                  (namespace: CompanyC.Api.Repositories)
    SqliteEmployeeRepository.cs             (namespace: CompanyC.Api.Repositories)
    EmployeeQueries.xml                     (Content 파일)
    QueryLoader.cs                          (namespace: CompanyC.Api.Repositories)
  Queries/
    GetEmployeesQuery.cs                    (namespace: CompanyC.Api.Queries)
    GetEmployeeByNameQuery.cs               (namespace: CompanyC.Api.Queries)
  Commands/
    AddEmployeesCommand.cs                  (namespace: CompanyC.Api.Commands)
```

## namespace 변경 목록

| 파일 | 이전 namespace | 이후 namespace |
|------|---------------|---------------|
| Employee.cs | CompanyC.Api | CompanyC.Api.Models |
| IEmployeeParser.cs | CompanyC.Api | CompanyC.Api.Parsers |
| CsvEmployeeParser.cs | CompanyC.Api | CompanyC.Api.Parsers |
| JsonEmployeeParser.cs | CompanyC.Api | CompanyC.Api.Parsers |
| IEmployeeRepository.cs | CompanyC.Api | CompanyC.Api.Repositories |
| SqliteEmployeeRepository.cs | CompanyC.Api | CompanyC.Api.Repositories |
| QueryLoader.cs | CompanyC.Api | CompanyC.Api.Repositories |
| GetEmployeesQuery.cs | CompanyC.Api | CompanyC.Api.Queries |
| GetEmployeeByNameQuery.cs | CompanyC.Api | CompanyC.Api.Queries |
| AddEmployeesCommand.cs | CompanyC.Api | CompanyC.Api.Commands |

## using 관리 전략

GlobalUsings.cs에 내부 namespace를 global using으로 추가하여 각 파일에 개별 using을 추가하지 않아도 되도록 관리:

```csharp
global using CompanyC.Api.Models;
global using CompanyC.Api.Parsers;
global using CompanyC.Api.Repositories;
global using CompanyC.Api.Queries;
global using CompanyC.Api.Commands;
```

## 주의 사항

- EmployeeQueries.xml: Content 파일이므로 폴더 이동 후 csproj의 CopyToOutputDirectory 경로 확인 필요
- Program.cs의 Response DTO record: 루트에 유지 (top-level statement 파일)
- 테스트 프로젝트: GlobalUsings로 커버되므로 변경 최소화

## 실행 순서

1. 폴더 생성 (Models, Parsers, Repositories, Queries, Commands)
2. git mv로 파일 이동
3. 각 파일 namespace 변경
4. GlobalUsings.cs에 내부 namespace 추가
5. csproj에서 EmployeeQueries.xml 경로 확인/수정
6. dotnet build 확인
7. dotnet test 확인
8. CLAUDE.md, README.md 프로젝트 구조 갱신
9. 커밋 + push + PR 생성
